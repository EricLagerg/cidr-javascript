/* COPYRIGHT 2014 ERIC LAGERGREN  LICENSED UNDER THE MIT LICENSE *//* LICENSE CAN BE FOUND http://opensource.org/licenses/MIT OR subnetting.ericlagergren.com/license.txt */function val(){function E(e,t){var n=e.filter(function(e){return(new RegExp("\\b"+t+"\\b")).test(e)})[0];return n?n.split(":"):-1}function x(e){var t,r,i,s=e%8;if(s){t=Math.pow(2,8-s);r=Math.floor(n[a]/t)*t;i=r+(t-1)}else if(e===32||e===31){r="N/A";i="N/A"}else{t=128;r=Math.floor(n[a]/t)*t;i="255"}return[r,i]}function T(e,t){var r,i,s="",o="";for(var u=0;u<a;u++){s+=n[u]+".";o+=n[u]+"."}r=s+e;i=o+t;if(a===0){r+=".0.0.0";i+=".255.255.255"}if(a===1){r+=".0.0";i+=".255.255"}if(a===2){r+=".0";i+=".255"}return f=[r,i]}function N(e){var t=!a?0:a<3?Math.pow(2,a+2):24;return~~Math.pow(2,e-t)+" subnets"}function C(e){if(!e||e<0){return"No IP Entered"}if(e<128){return"Class A"}if(e<192){return"Class B"}if(e<224){return"Class C"}if(e<240){return"Class D"}if(e<256){return"Class E"}}function k(e){e=e||0;if(e>=2){e=Math.pow(2,32-e)-2}return e}function L(e){if(e!==0){var e=32-Math.ceil(Math.log(e-2)/Math.log(2))}return e}function A(){var e=f[0].split("."),t=f[1].split("."),n=parseInt(e[3],10)+1,r=parseInt(t[3],10)-1,i=e.slice(0,-1).join(".")+"."+n+" - "+t.slice(0,-1).join(".")+"."+r;return i}function O(e){var t="1",n="0";for(var r="";r.length<e;){r+=t}for(var i="";i.length<32-e;){i+=n}return r+i}var e=["0.0.0.0:0","128.0.0.0:1","192.0.0.0:2","224.0.0.0:3","240.0.0.0:4","248.0.0.0:5","252.0.0.0:6","254.0.0.0:7","255.0.0.0:8","255.128.0.0:9","255.192.0.0:10","255.224.0.0:11","255.240.0.0:12","255.248.0.0:13","255.252.0.0:14","255.254.0.0:15","255.255.0.0:16","255.255.128.0:17","255.255.192.0:18","255.255.224.0:19","255.255.240.0:20","255.255.248.0:21","255.255.252.0:22","255.255.254.0:23","255.255.255.0:24","255.255.255.128:25","255.255.255.192:26","255.255.255.224:27","255.255.255.240:28","255.255.255.248:29","255.255.255.252:30","255.255.255.254:31","255.255.255.255:32"],t=document.form.submask.value,n=document.form.ip.value.split("."),r=document.form.numhost.value,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;i=E(e,t);if(t===""){o=L(r);s=E(e,o)[0]}else{s=i[0];o=i[1]}u=s.split(".");submaskSplitLength=u.length;for(var S=0;S<submaskSplitLength;S++){if(u[S]!=="255"){a=S;break}}l=k(o);c=N(o);h=C(n[0]);p=x(parseInt(o,10));d=T(p[0],p[1]);v=d[0];m=d[1];g=u.map(function(e){return 255-e}).join(".");y=document.getElementById("tablecidr");y.innerHTML=o;b=document.getElementById("tablenumhosts");b.innerHTML=l+" hosts "+"("+(l-2)+" usable)";tablebinary=document.getElementById("tablebinary");tablebinary.innerHTML=O(o);document.getElementById("tablesubmask").innerHTML=s;document.getElementById("tableipclass").innerHTML=h;document.getElementById("tablenetworkid").innerHTML=v;document.getElementById("tablebroadcastaddress").innerHTML=m;document.getElementById("tablenumsubnets").innerHTML=c;document.getElementById("tablewildcardmask").innerHTML=g;document.getElementById("tablenetworkrange").innerHTML=A();w=A();document.getElementById("hidden").innerHTML="cidr number: "+o+" submask: "+s+" class: "+h+" hosts: "+l+" usable hosts: "+(l-2)+" network id "+v+" broadcast address: "+m+" subnets: "+c+" wildcard: "+g+" network range: "+w;cfh=L(r);smfh=E(e,cfh)[0];document.getElementById("tablesubmaskforhosts").innerHTML=cfh+" / "+smfh;y.innerHTML="/"+y.innerHTML;b.innerHTML=b.innerHTML.replace(/\B(?=(\d{3})+(?!\d))/g,",");tablebinary.innerHTML=tablebinary.innerHTML.replace(/\B(?=(\d{8})+(?!\d))/g,".")}window.onload=function(){document.getElementsByTagName("form")[0].onsubmit=function(e){e.preventDefault();val()}}
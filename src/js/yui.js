/* COPYRIGHT 2014 ERIC LAGERGREN  LICENSED UNDER THE MIT LICENSE *//* LICENSE CAN BE FOUND http://opensource.org/licenses/MIT OR subnetting.ericlagergren.com/license.txt */function val(){var k=["0.0.0.0:0","128.0.0.0:1","192.0.0.0:2","224.0.0.0:3","240.0.0.0:4","248.0.0.0:5","252.0.0.0:6","254.0.0.0:7","255.0.0.0:8","255.128.0.0:9","255.192.0.0:10","255.224.0.0:11","255.240.0.0:12","255.248.0.0:13","255.252.0.0:14","255.254.0.0:15","255.255.0.0:16","255.255.128.0:17","255.255.192.0:18","255.255.224.0:19","255.255.240.0:20","255.255.248.0:21","255.255.252.0:22","255.255.254.0:23","255.255.255.0:24","255.255.255.128:25","255.255.255.192:26","255.255.255.224:27","255.255.255.240:28","255.255.255.248:29","255.255.255.252:30","255.255.255.254:31","255.255.255.255:32"],E=document.form.submask.value,g=document.form.ip.value.split("."),t=document.form.numhost.value,D,d,q,b,h,e,w,B,C,j,r,v,l,x,n,u,y;function f(i,G){var H=i.filter(function(I){return new RegExp("\\b"+G+"\\b").test(I)})[0];return H?H.split(":"):-1}D=f(k,E);if(E===""){q=s(t);d=f(k,q)[0]}else{d=D[0];q=D[1]}b=d.split(".");submaskSplitLength=b.length;for(var A=0;A<submaskSplitLength;A++){if(b[A]!=="255"){h=A;break}}function F(J){var H,G,i,I=J%8;if(I){H=(Math.pow(2,(8-I)));G=((Math.floor(g[h]/H))*H);i=(G+(H-1))}else{if(J===32||J===31){G="N/A";i="N/A"}else{H=128;G=((Math.floor(g[h]/H))*H);i="255"}}return[G,i]}function p(J,I){var M,L,G="",K="";for(var H=0;H<h;H++){G+=g[H]+".";K+=g[H]+"."}M=G+J;L=K+I;if(h===0){M+=".0.0.0";L+=".255.255.255"}if(h===1){M+=".0.0";L+=".255.255"}if(h===2){M+=".0";L+=".255"}return e=[M,L]}function c(i){var G=!h?0:h<3?Math.pow(2,h+2):24;return ~~Math.pow(2,(i-G))+" subnets"}function m(i){if(!i||i<0){return"No IP Entered"}if(i<128){return"Class A"}if(i<192){return"Class B"}if(i<224){return"Class C"}if(i<240){return"Class D"}if(i<256){return"Class E"}}function z(i){i=i||0;if(i>=2){i=(Math.pow(2,(32-i))-2)}return i}function s(i){if(i!==0){var i=(32-(Math.ceil((Math.log(i-2))/(Math.log(2)))))}return i}w=z(q);B=c(q);C=m(g[0]);j=F(parseInt(q,10));r=p(j[0],j[1]);v=r[0];l=r[1];x=b.map(function(i){return 255-i}).join(".");function a(){var H=e[0].split("."),G=e[1].split("."),J=(parseInt(H[3],10)+1),i=(parseInt(G[3],10)-1),I=H.slice(0,-1).join(".")+"."+J+" - "+G.slice(0,-1).join(".")+"."+i;return I}function o(I){var K="1",J="0";for(var H="";H.length<I;){H+=K}for(var G="";G.length<(32-I);){G+=J}return H+G}n=document.getElementById("tablecidr");n.innerHTML=q;u=document.getElementById("tablenumhosts");u.innerHTML=w+" hosts ("+(w-2)+" usable)";tablebinary=document.getElementById("tablebinary");tablebinary.innerHTML=o(q);document.getElementById("tablesubmask").innerHTML=d;document.getElementById("tableipclass").innerHTML=C;document.getElementById("tablenetworkid").innerHTML=v;document.getElementById("tablebroadcastaddress").innerHTML=l;document.getElementById("tablenumsubnets").innerHTML=B;document.getElementById("tablewildcardmask").innerHTML=x;document.getElementById("tablenetworkrange").innerHTML=a();y=a();document.getElementById("hidden").innerHTML="cidr number: "+q+" submask: "+d+" class: "+C+" hosts: "+w+" usable hosts: "+(w-2)+" network id "+v+" broadcast address: "+l+" subnets: "+B+" wildcard: "+x+" network range: "+y;cfh=s(t);smfh=f(k,cfh)[0];document.getElementById("tablesubmaskforhosts").innerHTML=cfh+" / "+smfh;n.innerHTML="/"+n.innerHTML;u.innerHTML=u.innerHTML.replace(/\B(?=(\d{3})+(?!\d))/g,",");tablebinary.innerHTML=tablebinary.innerHTML.replace(/\B(?=(\d{8})+(?!\d))/g,".")}window.onload=function(){document.getElementsByTagName("form")[0].onsubmit=function(a){a.preventDefault();val()}};
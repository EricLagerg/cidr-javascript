/* COPYRIGHT 2014 ERIC LAGERGREN  LICENSED UNDER THE MIT LICENSE *//* LICENSE CAN BE FOUND http://opensource.org/licenses/MIT OR subnetting.ericlagergren.com/license.txt */function val(){var k=["0.0.0.0:0","128.0.0.0:1","192.0.0.0:2","224.0.0.0:3","240.0.0.0:4","248.0.0.0:5","252.0.0.0:6","254.0.0.0:7","255.0.0.0:8","255.128.0.0:9","255.192.0.0:10","255.224.0.0:11","255.240.0.0:12","255.248.0.0:13","255.252.0.0:14","255.254.0.0:15","255.255.0.0:16","255.255.128.0:17","255.255.192.0:18","255.255.224.0:19","255.255.240.0:20","255.255.248.0:21","255.255.252.0:22","255.255.254.0:23","255.255.255.0:24","255.255.255.128:25","255.255.255.192:26","255.255.255.224:27","255.255.255.240:28","255.255.255.248:29","255.255.255.252:30","255.255.255.254:31","255.255.255.255:32"],C=document.form.submask.value,g=document.form.ip.value.split("."),B,d,q,b,h,e,u,z,A,j,r,t,l,v,n,s,w;function f(i,E){var F=i.filter(function(G,H){return new RegExp("\\b"+E+"\\b").test(G)})[0];return F?F.split(":"):-1}B=f(k,C);d=B[0];q=B[1];b=d.split(".");for(var y=0;y<b.length;y++){if(b[y]!=="255"){h=y;break}}function D(H){var F,E,i,G=H%8;if(G){F=(Math.pow(2,(8-G)));E=((Math.floor(g[h]/F))*F);i=(E+(F-1))}else{F=128;E=((Math.floor(g[h]/F))*F);i="255"}return[E,i]}function p(H,G){var K,J,E="",I="";for(var F=0;F<h;F++){E+=g[F]+".";I+=g[F]+"."}K=E+H;J=I+G;if(h===0){K+=".0.0.0";J+=".255.255.255"}if(h===1){K+=".0.0";J+=".255.255"}if(h===2){K+=".0";J+=".255"}return e=[K,J]}function c(i){var E=!h?0:h<3?Math.pow(2,h+2):24;return ~~Math.pow(2,(i-E))+" subnets"}function m(i){if(!i||i<0){return"No IP Entered"}if(i<128){return"Class A"}if(i<192){return"Class B"}if(i<224){return"Class C"}if(i<240){return"Class D"}if(i<256){return"Class E"}}function x(i){i=i||0;if(i>=2){i=(Math.pow(2,(32-i))-2)}return i}u=x(q);z=c(q);A=m(g[0]);j=D(parseInt(q,10));r=p(j[0],j[1]);t=r[0];l=r[1];v=b.map(function(i){return 255-i}).join(".");function a(){var F=e[0].split("."),E=e[1].split("."),H=(parseInt(F[3],10)+1),i=(parseInt(E[3],10)-1),G=F.slice(0,-1).join(".")+"."+H+" - "+E.slice(0,-1).join(".")+"."+i;return G}function o(G){var I="1",H="0";for(var F="";F.length<G;){F+=I}for(var E="";E.length<(32-G);){E+=H}return F+E}n=document.getElementById("tablecidr");n.innerHTML=q;s=document.getElementById("tablenumhosts");s.innerHTML=u+" hosts ("+(u-2)+" usable)";tablebinary=document.getElementById("tablebinary");tablebinary.innerHTML=o(q);document.getElementById("tablesubmask").innerHTML=d;document.getElementById("tableipclass").innerHTML=A;document.getElementById("tablenetworkid").innerHTML=t;document.getElementById("tablebroadcastaddress").innerHTML=l;document.getElementById("tablenumsubnets").innerHTML=z;document.getElementById("tablewildcardmask").innerHTML=v;document.getElementById("tablenetworkrange").innerHTML=a();w=a();document.getElementById("hidden").innerHTML="cidr number: "+q+" submask: "+d+" class: "+A+" hosts: "+u+" usable hosts: "+(u-2)+" network id "+t+" broadcast address: "+l+" subnets: "+z+" wildcard: "+v+" network range: "+w;n.innerHTML="/"+n.innerHTML;s.innerHTML=s.innerHTML.replace(/\B(?=(\d{3})+(?!\d))/g,",");tablebinary.innerHTML=tablebinary.innerHTML.replace(/\B(?=(\d{8})+(?!\d))/g,".")}function downloadInnerHtml(){var a=document.getElementById("hidden").innerHTML,b=document.createElement("a"),c="text/plain";b.setAttribute("download","subnetting.txt");b.setAttribute("href","data:"+c+";charset=utf-8,"+encodeURIComponent(a));b.click()}window.onload=function(){document.getElementsByTagName("form")[0].onsubmit=function(a){a.preventDefault();val()};document.getElementById("download").onclick=function(a){a.preventDefault();downloadInnerHtml()}};